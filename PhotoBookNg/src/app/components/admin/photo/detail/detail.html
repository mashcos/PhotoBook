<div class="admin-container">
  <h1 class="page-title">
    <i class="pi pi-cog"></i>
    Photo Admin
  </h1>
  <tr>
    <td colspan="8" class="p-0">
      <div class="expanded-row-wrapper p-3 surface-ground">
        <div class="expanded-content flex flex-column md:flex-row gap-4">
          <!-- Large Image -->
          <div class="expanded-image-section md:w-6 w-full">
            <div
              class="image-card surface-card p-3 border-round shadow-1 h-full flex align-items-center justify-content-center"
            >
              <img
                [src]="photo.filename! | imageSource"
                [alt]="photo.title"
                class="expanded-image w-full border-round"
                style="object-fit: contain; max-height: 500px"
              />
            </div>
          </div>

          <!-- Edit Form -->
          <div class="expanded-form-section md:w-6 w-full">
            <div class="surface-card p-4 border-round shadow-1">
              <h3 class="mt-0 mb-3 text-900">Edit Details</h3>

              <div class="field mb-3">
                <label for="title" class="font-bold block mb-2 text-700">Title</label>
                <input pInputText id="title" [(ngModel)]="photo.title" class="w-full" />
              </div>

              <div class="field mb-3">
                <label for="description" class="font-bold block mb-2 text-700">Description</label>
                <textarea
                  pTextarea
                  id="description"
                  [(ngModel)]="photo.description"
                  rows="3"
                  class="w-full"
                ></textarea>
              </div>

              <div class="formgrid grid">
                <div class="field col-12 md:col-6 mb-3">
                  <label for="date" class="font-bold block mb-2 text-700">Date</label>
                  <p-datepicker
                    [(ngModel)]="photo.takenOn"
                    [showTime]="true"
                    dateFormat="yy-mm-dd"
                    appendTo="body"
                    styleClass="w-full"
                    [style]="{ width: '100%' }"
                    [title]="'Date'"
                  ></p-datepicker>
                </div>
                <div class="field col-12 md:col-6 mb-3">
                  <label class="font-bold block mb-2 text-700">Categories</label>
                  <p-multiSelect
                    [options]="categories()"
                    [(ngModel)]="photo.categories"
                    optionLabel="categoryName"
                    optionValue="id"
                    display="chip"
                    [style]="{ width: '100%' }"
                    appendTo="body"
                  ></p-multiSelect>
                </div>
              </div>

              <div class="flex justify-content-end gap-2">
                <p-button
                  label="Cancel"
                  icon="pi pi-times"
                  severity="secondary"
                  (onClick)="cancel()"
                ></p-button>
                <p-button
                  label="Save Changes"
                  icon="pi pi-check"
                  (onClick)="save()"
                ></p-button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </td>
  </tr>
</div>
